HANDOFF PACKET: Minute-Tick Rerender for Open Invites Filter
=============================================================
Date: 2026-02-02
Branch: main
Repo: github.com/paulyd-oi/open-invite-app.git

SUMMARY
-------
Added useMinuteTick hook to force periodic recalculation of Open Invites
filter. Events now automatically drop from count/list once they end,
even if user is sitting on the screen with no interaction.

FILES CHANGED
-------------
- src/lib/useMinuteTick.ts (NEW) - Minute ticker hook
- src/app/user/[id].tsx - Wire minuteTick into friendEvents useMemo
- src/app/friend/[id].tsx - Wire minuteTick into eventSeries useMemo

HOOK IMPLEMENTATION
-------------------
src/lib/useMinuteTick.ts:
  export function useMinuteTick(enabled: boolean = true): number
  - Returns tick number that increments every 60 seconds
  - If enabled=false, returns stable tick and does not set interval
  - Cleans up interval on unmount
  - No console logs in prod

WIRING DETAILS
--------------
user/[id].tsx:
  const minuteTick = useMinuteTick(true);
  const friendEvents = useMemo(() => {
    ...filter logic...
  }, [friendEventsData?.events, minuteTick]);

friend/[id].tsx:
  const minuteTick = useMinuteTick(true);
  const eventSeries = useMemo(() => {
    ...groupEventsIntoSeries...
  }, [events, minuteTick]);

FILTER LOGIC (unchanged)
------------------------
(endTime ?? startTime) >= now
- Events that have started but not yet ended still show
- Events automatically disappear once endTime (or startTime) passes

VERIFICATION
------------
npm run typecheck - PASS
bash scripts/ai/verify_frontend.sh - PASS

MANUAL TEST PLAN
----------------
1. Open simulator, navigate to profile with open invites
2. Set device time forward OR create event ending within 1-2 minutes
3. Leave screen open without interaction
4. After minute tick, event should disappear from count/list
5. Confirm no crashes, no flashing, no extra prompts

RISKS/NOTES
-----------
- Interval only runs while screen is mounted (one per screen)
- 60-second tick is lightweight, no per-second ticking
- No console logs in production

NO NEW DEPENDENCIES
-------------------
Pure React hooks (useState, useEffect, useRef)


