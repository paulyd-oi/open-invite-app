HANDOFF PACKET: V1 Privacy Hardening — Import Calendar defaults to Busy (private)
===================================================================================
Date: 2026-02-02
Branch: main
Repo: github.com/paulyd-oi/open-invite-app.git

SUMMARY
-------
Made "Import Calendar" privacy-first by default:
1. Imported events default to PRIVATE visibility (busy blocks, not shared details)
2. "Let friends see when you're free" now defaults to OFF when settings missing/loading

ROOT CAUSE
----------
Privacy defaults were permissive:
- Import Calendar defaulted to "all_friends" (everyone sees event details)
- shareCalendarAvailability fallback was `true` when settings not loaded

This meant new users or users with missing settings had their calendar info
shared by default, violating privacy-first principles.

FILES CHANGED
-------------
1. src/app/import-calendar.tsx (line 127)
   BEFORE: useState<VisibilityOption>("all_friends")
   AFTER:  useState<VisibilityOption>("private")

2. src/app/privacy-settings.tsx (line 338)
   BEFORE: settings?.shareCalendarAvailability ?? true
   AFTER:  settings?.shareCalendarAvailability ?? false

REGRESSION SCAN
---------------
Searched for other `shareCalendarAvailability ?? true` occurrences.
Result: Only 1 occurrence found (in privacy-settings.tsx) — now fixed.

BEHAVIOR CHANGE
---------------
Import Calendar screen:
- BEFORE: "Open to Friends" selected by default
- AFTER: "Private" selected by default (busy block, no details shared)

Privacy Settings screen:
- BEFORE: "Let friends see when you're free" toggle ON when settings loading/missing
- AFTER: Toggle OFF by default until settings explicitly enable it

TESTS RUN
---------
✓ npm run typecheck - PASS (no errors)
✓ bash scripts/ai/verify_frontend.sh - PASS
✓ VSCode diagnostics - No errors in edited files

HOW TO VERIFY IN APP
--------------------
1. Import Calendar:
   - Open Import Calendar screen
   - Confirm "Private" is pre-selected in visibility picker (lock icon)
   - Import an event without changing visibility
   - Verify imported event shows as busy block to friends, not full details

2. Privacy Settings:
   - Fresh install or clear user settings
   - Navigate to Privacy Settings
   - "Share Calendar Availability" toggle should be OFF by default
   - Enable it explicitly to share availability

COMMIT
------
bc40590 fix(privacy): import calendar defaults to private busy blocks

COMMIT
------
fix(events): replace non-friend event dead page with privacy explainer
(commit already pushed: 36762d3)
