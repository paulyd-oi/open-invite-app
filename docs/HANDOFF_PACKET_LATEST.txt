HANDOFF PACKET: Admin Badge Studio Cleanup
==========================================
Date: 2026-02-01
Branch: main
Repo: github.com/paulyd-oi/open-invite-app.git

SUMMARY
-------
Cleanup of Admin Console to focus ONLY on badge functionality:
1. Removed out-of-scope Pro override, ban, delete UI and API functions
2. Kept badge definitions panel (create/edit badges via CRUD modals)
3. Kept manual grant/revoke badges to users functionality
4. Uses existing backend badge endpoints (no backend changes required)
5. Removed dead code (handleBadgeToggle using deprecated badge ID-based functions)
6. All typechecks pass; verify_frontend.sh PASS

CHANGES
-------

FILE 1: src/lib/adminApi.ts
  REMOVED TYPES:
  - UserAdminStatus
  - SetProOverridePayload
  - AdminActionResponse
  - BanUserPayload
  
  REMOVED FUNCTIONS:
  - getUserAdminStatus()
  - setProOverride()
  - banUser()
  - unbanUser()
  - deleteUser()

FILE 2: src/app/admin.tsx
  REMOVED IMPORTS:
  - getUserAdminStatus, setProOverride, banUser, unbanUser, deleteUser
  - AlertCircle, Trash2 icons
  - type UserAdminStatus

  REMOVED STATE:
  - userAdminStatus, isLoadingUserStatus
  - proOverrideNote, isSavingProOverride
  - showBanModal, banReason, banConfirmText, isBanning
  - showDeleteModal, deleteConfirmEmail, isDeleting

  REMOVED UI SECTIONS:
  - Ban Status Indicator
  - PRO STATUS section
  - USER ACTIONS section (Ban/Delete buttons)
  - Ban Modal
  - Delete Modal

  REMOVED HANDLERS:
  - handleSaveProOverride()
  - handleBanUser()
  - handleUnbanUser()
  - handleDeleteUser()
  - handleBadgeToggle() (dead code using deprecated badge ID functions)

REMAINING BADGE STUDIO FEATURES
-------------------------------
1. BADGE DEFINITIONS panel - List all badges with New Badge button
2. Create/Edit Badge Modal - badgeKey, name, description, emoji, tierColor, isExclusive, isActive
3. USER LOOKUP - Search users by name/username/email
4. USER DETAIL - Show selected user info
5. GRANTED BADGES - Show user's current badges with Revoke buttons
6. GRANT A BADGE - Horizontal badge picker + note field + Grant button

BACKEND ENDPOINTS USED (existing - no changes required)
-------------------------------------------------------
- GET /api/admin/badges - List badge definitions
- POST /api/admin/badges - Create badge
- PATCH /api/admin/badges/:badgeKey - Update badge
- GET /api/admin/users/:userId/badges - Get user badges
- POST /api/admin/users/:userId/badges/grant - Grant badge by key
- POST /api/admin/users/:userId/badges/revoke - Revoke badge by key

VERIFICATION
------------
npm run typecheck: PASS
bash scripts/ai/verify_frontend.sh: PASS
Commit: 4ad8e83 pushed to origin/main

ASSUMPTIONS
-----------
- Badge doctrine: OG badges = earnable via rank, Gift badges = isExclusive + manual only
- Pro trio badges (pro, pro_silver, pro_gold) = public + auto-granted via RevenueCat
- Old handleBadgeToggle function was dead code - UI uses handleGrantBadge and handleRevokeBadgeByKey
