========================================
HANDOFF PACKET - UX Fixes (Badges, Admin, Busy)
Date: 2026-01-30
Commit: 92f6540
========================================

SUMMARY
-------
Fixed three UX issues:
1. Badges - Added DEV logging for fetch + render decisions
2. Admin button - Added ADMIN_DECISION logging
3. Busy block - Changed time picker from 1-hour to 15-minute steps

FILES CHANGED
-------------
1. src/app/achievements.tsx
   - Added [BADGES_FETCH] logging with response shape
   - Added [BADGES_RENDER] logging with render decision

2. src/app/settings.tsx
   - Added [ADMIN_DECISION] logging with userId isAdmin bootStatus

3. src/app/admin.tsx
   - Added [SEARCH_DECISION] logging with query endpoint status

4. src/app/calendar.tsx
   - Changed busy time picker: setHours() -> setMinutes(+/-15)
   - Start and end time both use 15-minute steps

DEV LOG TAGS
------------
[BADGES_FETCH] - When fetching /api/badges/catalog
  Fields: badgesCount responseKeys unlockedCount

[BADGES_RENDER] - Render decision
  Fields: bootStatus isLoading totalBadges unlockedCount lockedCount featuredBadge whyHidden

[ADMIN_DECISION] - Admin section visibility
  Fields: userId isAdmin email message adminStatusLoading bootStatus whyShownOrHidden

[SEARCH_DECISION] - User search in admin console
  Fields: queryLength query endpoint status resultCount errorText

BUSY BLOCK COLORS (already correct)
-----------------------------------
Calendar list: #6B7280 (grey)
Friend profile: isDark ? #6B6B6B : #9CA3AF
Busy modal button: #6B7280

TIME PICKER CHANGE
------------------
Before: newTime.setHours(+/- 1)
After: newTime.setMinutes(+/- 15)
User can now set 5:15 5:30 5:45 etc

TEST PLAN
---------
1. BADGES:
   - Log in with known account
   - Go to Profile -> Badges
   - Check DEV logs for [BADGES_FETCH] and [BADGES_RENDER]
   - If badges exist, they should appear

2. ADMIN:
   - Log in with admin account
   - Go to Settings
   - Check DEV logs for [ADMIN_DECISION] showing isAdmin=true
   - Admin Console button should appear at bottom
   - Go to Admin Console
   - Search for a user
   - Check [SEARCH_DECISION] logs show status ok

3. BUSY BLOCK:
   - Go to Calendar
   - Tap + and select Add Busy
   - Tap time arrows - should change by 15 minutes
   - Verify busy blocks show grey in calendar list

VERIFICATION RESULTS
--------------------
npm run typecheck: PASS
bash scripts/ai/verify_frontend.sh: PASS

GIT
---
Commit: 92f6540 fix(ux): badges+admin logging, busy time 15min steps
Push: bac5a03..92f6540 main

========================================
END HANDOFF
========================================
