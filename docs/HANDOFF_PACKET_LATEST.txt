HANDOFF PACKET: Fix Dead Event Page for Non-Friend Host Events
===============================================================
Date: 2026-02-02
Branch: main
Repo: github.com/paulyd-oi/open-invite-app.git

SUMMARY
-------
Replaced the dead/blank "Event not found" experience when a user taps an event
whose host is not their friend (e.g., Circles calendar). Now shows a clear
privacy explainer screen with a CTA to view the host profile (when available),
instead of rendering a dead page.

HARD INVARIANTS ENFORCED
------------------------
✓ No dead event page UX for non-friend host events
✓ Do not leak private event details to non-friends
✓ Preserve existing privacy doctrine: full event details only between friends
✓ No retry loops on privacy-restricted errors

ROOT CAUSE
----------
The event details screen relied on the normal event fetch path. When backend
privacy gating blocked access (often 403/404), the UI fell through to a generic
"not found" / empty state that looked broken (dead page), with no explanation
or next action for the user.

FIX
---
src/app/event/[id].tsx:
1) Enhanced event query error handling:
   - Captured eventError from the event query
   - Set retry: false to avoid retry loops on privacy errors
   - Added isPrivacyRestricted detection for 403/404 and known backend codes
   - Extracted restrictedHostInfo (hostId/hostName) from error payload when present
   - Prevented fallback queries from running when privacy-restricted

2) Added a dedicated privacy explainer UI:
   - Locked "Event details limited" screen explaining friend-only visibility
   - Primary CTA: "View Host Profile" (only if hostId is available)
   - Secondary CTA: "Go Back"
   - Separate polished "Event not found" view for truly missing/deleted events

FILES CHANGED
-------------
- src/app/event/[id].tsx

TESTS RUN
---------
- npm run typecheck: PASS
- bash scripts/ai/verify_frontend.sh: PASS

COMMIT
------
fix(events): replace non-friend event dead page with privacy explainer
(commit already pushed: 36762d3)
